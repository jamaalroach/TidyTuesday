---
title: "Grenada_troops"
author: "JR"
date: "3/25/2021"
output: html_document
---
```{r}

```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r }
library(unvotes)
library(tidyverse)
library(ggthemes)
library(lubridate)
library(ggparliament)
library(ggtext)
library(ggdist)
library(scales)
library(ggforce)
library(hrbrthemes)
library(waffle)
```



```{r pressure, echo=FALSE}
votes<-un_votes
roll<-un_roll_calls
issue<-un_roll_call_issues
issue<-issue[!duplicated(issue[,1]),]

vote_data<-left_join(votes, roll, "rcid")
vote_data<-left_join(vote_data, issue, "rcid")

caricom<-c("Antigua & Barbuda", "Bahamas", "Barbados", "Belize","Dominica", "Grenada", "Guyana", "Haiti", "Jamaica", "Montserrat","St. Lucia","St. Kitts & Nevis", "St. Vincent & Grenadines", "Suriname","Trinidad & Tobago")

vote_data<-vote_data%>%mutate(cari=ifelse(country %in% caricom, "yes","no"))

vote_data$year<-year(vote_data$date)

```


```{r}
grenada<-vote_data%>%filter(str_detect(short, "GRENADA"))

grenada<-grenada%>%select(country,vote,cari)
grenada$vote_n<-1
```


```{r}




  grenada%>%count(vote, wt = vote_n) %>%
  ggplot(aes(fill = vote, values = n)) +
  geom_waffle(n_rows = 20, size =0.33, colour = "white", flip = TRUE) +
  theme_minimal() +
  theme( panel.grid = element_blank(), axis.text = element_blank(), legend.position = "none")+
  labs(title="TO DEMAND THAT FOREIGN TROOPS WITHDRAW IMMEDIATELY FROM GRENADA AND \n URGE THAT FREE ELECTIONS BE HELD AS SOON AS POSSIBLE TO PERMIT THE PEOPLE OF GRENADA TO ELEC", subtitle = "SIx Caricom countries voted no",caption="unvotes")
```



```{r}
grenada%>%count(vote)%>%
  ggplot(aes(2, 4))+
  geom_col()
  
```



